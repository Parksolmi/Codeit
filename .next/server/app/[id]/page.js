(()=>{var e={};e.id=996,e.ids=[996],e.modules={181:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=s(1060).A.create({baseURL:"https://assignment-todolist-api.vercel.app",headers:{"Content-Type":"application/json"},timeout:5e3})},440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(1658);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1135:()=>{},1241:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(687),i=s(3568),a=s(9743),n=s(3210);function l({label:e,isCompleted:t,handleCompleted:s,onLabelChange:i}){let a=(0,n.useRef)(null),[l,o]=(0,n.useState)("1ch");return(0,r.jsx)("div",{className:`w-full flex justify-center items-center border-2 border-black rounded-[20px] py-3 px-4 ${t?"bg-violet-200":""}`,children:(0,r.jsxs)("div",{className:"flex justify-center items-center gap-4 min-w-0",children:[t?(0,r.jsx)("img",{src:"/images/checked-icon.svg",alt:"체크됨",className:"w-7 h-7",onClick:s}):(0,r.jsx)("div",{onClick:s,className:"w-7 h-7 rounded-full border-2 shrink-0 bg-[#FEFCE8] border-black"}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>i(e.target.value),className:"bg-transparent border-none outline-none text-sm font-medium text-black underline w-fit",style:{width:l}}),(0,r.jsx)("span",{ref:a,className:"absolute opacity-0 whitespace-pre text-sm font-normal",style:{pointerEvents:"none",visibility:"hidden"},children:e||" "})]})})}var o=s(4757);function d({imageUrl:e,isUploading:t=!1,onImageSelect:s}){return(0,r.jsxs)("label",{className:"w-full h-[250px] bg-slate-50 flex flex-col items-center justify-center gap-4 cursor-pointer relative",children:[e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:e,alt:"Uploaded",className:"w-full h-full object-cover rounded-2xl border-none"}),(0,r.jsx)("div",{className:"absolute bottom-2 right-2 w-10 h-10 rounded-full bg-[#0F172A]/50 border-2 border-[#0F172A] flex items-center justify-center",children:(0,r.jsx)("img",{src:"/images/edit.png",alt:"수정",className:"w-4 h-4"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"border-2 border-dashed rounded-2xl w-full h-full flex items-center justify-center",children:(0,r.jsx)("img",{src:"/images/upload-img.png",alt:"Upload",className:"w-12 h-12"})}),(0,r.jsx)("div",{className:"absolute bottom-2 right-2 w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center",children:(0,r.jsx)("img",{src:"/images/plus-slate-icon.png",alt:"추가",className:"w-4 h-4"})})]}),t&&(0,r.jsx)("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center rounded-2xl z-10",children:(0,r.jsx)(o.A,{color:"#ffffff",size:32})}),(0,r.jsx)("input",{type:"file",className:"hidden",onChange:e=>{e.target.files&&e.target.files[0]&&s(e.target.files[0])}})]})}function c({value:e,onChange:t}){return(0,r.jsxs)("div",{className:`
        flex flex-col items-center justify-center gap-4
        rounded-2xl w-full min-h-[250px] p-6
        bg-[url('/images/memo.png')] bg-no-repeat bg-top
        bg-[length:auto] bg-contain overflow-hidden
      `,style:{backgroundSize:"100% 350px",backgroundRepeat:"no-repeat",backgroundPosition:"top"},children:[(0,r.jsx)("p",{className:"font-bold text-sm mb-2 text-amber-800",children:"Memo"}),(0,r.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),className:"w-full h-[150px] bg-transparent text-sm text-center resize-none outline-none pt-[45px] text-slate-800",placeholder:"메모를 입력하세요"})]})}var u=s(181),m=s(6189),p=s(3236);function x(){let e=(0,m.useRouter)();(0,m.useParams)();let t="paka36",[s,o]=(0,n.useState)(!1),[x,f]=(0,n.useState)(null),[h,g]=(0,n.useState)(null),[b,v]=(0,n.useState)(!1),[j,w]=(0,n.useState)(!1),[y,P]=(0,n.useState)(!1),[C,N]=(0,n.useState)(!1),k=async e=>{if(!e||C)return;N(!0);let s=/^[a-zA-Z0-9_\-. ]+$/.test(e.name),r=e.size<=5242880;if(!s)return void alert("파일 이름은 영어, 숫자, 언더스코어(_), 하이픈(-), 점(.)만 사용할 수 있습니다.");if(!r)return void alert("파일 크기는 5MB 이하여야 합니다.");try{let s=new FormData;s.append("image",e);let r=(await u.A.post(`/api/${t}/images/upload`,s,{headers:{"Content-Type":"multipart/form-data"}})).data.url;g(e=>e?{...e,imageUrl:r}:e),console.log("Image uploaded successfully:",r)}catch(e){console.error("이미지 업로드 중 에러 발생:",e)}finally{N(!1)}},A=async()=>{if(h){if(!j){w(!0);try{await u.A.patch(`/api/${t}/items/${h.id}`,{name:h.name??"",memo:h.memo??"",imageUrl:h.imageUrl??"",isCompleted:h.isCompleted})}catch(e){console.error("에러 발생:",e)}finally{w(!1),alert("수정되었습니다."),e.push("/")}}}},_=async()=>{if(h){if(!y){P(!0);try{if(!window.confirm("정말 삭제하시겠습니까?"))return;await u.A.delete(`/api/${t}/items/${h.id}`)}catch(e){console.error("에러 발생:",e)}finally{P(!1),alert("삭제되었습니다."),e.push("/")}}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.A,{}),(0,r.jsx)("main",{className:"w-full max-w-[1000px] min-h-screen bg-white px-4 mx-auto ",children:s?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-6 pt-8",children:[(0,r.jsx)(l,{label:h?.name||"",isCompleted:h?.isCompleted||!1,handleCompleted:()=>{g(e=>e?{...e,isCompleted:!e.isCompleted}:e)},onLabelChange:e=>{g(t=>t?{...t,name:e}:t)}}),(0,r.jsxs)("div",{className:"w-full flex flex-col md:flex-row justify-center items-center gap-4",children:[(0,r.jsx)("div",{className:"w-full md:flex-1",children:(0,r.jsx)(d,{imageUrl:h?.imageUrl,isUploading:C,onImageSelect:k})}),(0,r.jsx)("div",{className:"w-full md:flex-[2]",children:(0,r.jsx)(c,{value:h?.memo||"",onChange:e=>{g(t=>t?{...t,memo:e}:t)}})})]}),(0,r.jsxs)("div",{className:"w-full flex justify-end gap-4",children:[(0,r.jsx)(i.A,{iconSrc:"/images/editcheck-icon.png",active:b,bgColor:"bg-lime-300",textColor:"text-slate-900",isLoading:j,onClick:A,children:"수정완료"}),(0,r.jsx)(i.A,{iconSrc:"/images/x-icon.png",onClick:_,bgColor:"bg-rose-500",textColor:"text-white",isLoading:y,active:!0,children:"삭제하기"})]})]}):(0,r.jsx)("div",{className:"flex justify-center items-center w-full h-40",children:(0,r.jsx)(p.A,{color:"#7C3AED"})})})]})}},1440:(e,t,s)=>{Promise.resolve().then(s.bind(s,1241))},1630:e=>{"use strict";e.exports=require("http")},1820:e=>{"use strict";e.exports=require("os")},2412:e=>{"use strict";e.exports=require("assert")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3568:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(687),i=s(3236);function a({children:e,bgColor:t="bg-slate-200",textColor:s="text-black",onClick:a,active:n=!1,iconSrc:l,isLoading:o=!1,textInvert:d=!1}){let c=e?"px-10 py-0":"";return(0,r.jsxs)("button",{onClick:a,className:`
        h-[48px]
        min-w-[120px]
        rounded-full font-medium text-sm 
        ${n?t:"bg-slate-200"} ${s} border-2 border-slate-900
        flex items-center justify-center gap-1 shadow-[2px_2px_0px_0px_#0F172A]
        ${c}
        whitespace-nowrap
      `,children:[o&&(0,r.jsx)("div",{className:"absolute",children:(0,r.jsx)(i.A,{color:"#ffffff",size:6,margin:2})}),(0,r.jsxs)("div",{className:`
      h-full flex items-center justify-center gap-1
      ${o?"invisible":""}
    `,children:[l&&(0,r.jsx)("img",{src:l,alt:"아이콘",className:`w-4 h-4 ${d&&!n?"filter invert":""}`}),(0,r.jsx)("span",{className:d&&n?"filter invert":"",children:e})]})]})}},3873:e=>{"use strict";e.exports=require("path")},3997:e=>{"use strict";e.exports=require("tty")},4072:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},4075:e=>{"use strict";e.exports=require("zlib")},4127:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(5239),i=s(8088),a=s(8170),n=s.n(a),l=s(893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4252)),"/Users/bagsolmi/Desktop/PF/진행중/Codeit/src/app/[id]/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,4431)),"/Users/bagsolmi/Desktop/PF/진행중/Codeit/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/bagsolmi/Desktop/PF/진행중/Codeit/src/app/[id]/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/[id]/page",pathname:"/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4252:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bagsolmi/Desktop/PF/진행중/Codeit/src/app/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bagsolmi/Desktop/PF/진행중/Codeit/src/app/[id]/page.tsx","default")},4431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a,metadata:()=>i});var r=s(7413);s(1135);let i={title:"Create Next App",description:"Generated by create next app"};function a({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:"font-nanum antialiased min-h-screen flex flex-col",children:e})})}},4735:e=>{"use strict";e.exports=require("events")},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},7224:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},7888:(e,t,s)=>{Promise.resolve().then(s.bind(s,4252))},7910:e=>{"use strict";e.exports=require("stream")},8354:e=>{"use strict";e.exports=require("util")},8829:()=>{},8973:()=>{},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9743:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(687);function i(){return(0,r.jsx)("header",{className:"w-full border-b-[1px] bg-white border-b-slate-200",children:(0,r.jsx)("div",{className:"w-full max-w-[1000px] mx-auto px-4 py-[10px]",onClick:()=>window.location.href="/",children:(0,r.jsxs)("picture",{children:[(0,r.jsx)("source",{media:"(max-width: 640px)",srcSet:"/images/logo-img.png"}),(0,r.jsx)("img",{src:"/images/logo-char.png",alt:"Logo",className:"w-[75px] sm:w-[151px]"})]})})})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,825,300],()=>s(4127));module.exports=r})();